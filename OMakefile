open MyFunction
open MyOCaml

.PHONY: test clean doc all

.SUBDIRS: src test

# mark file confined directory path.
INSTALLED = $(BIG_ROOT)/installed

USE_OCAMLFIND = true
#
OCAMLPACKS[] =
#
if $(not $(OCAMLFIND_EXISTS))
    eprintln(This project requires ocamlfind, but is was not found.)
    eprintln(You need to install ocamlfind and run "omake --configure".)
    exit 1

OCAMLINCLUDES += src

NATIVE_ENABLED = $(OCAMLOPT_EXISTS)
BYTE_ENABLED = $(not $(OCAMLOPT_EXISTS))

OCAMLFLAGS    += -bin-annot
OCAMLCFLAGS   +=
OCAMLOPTFLAGS +=
# OCAML_LINK_FLAGS +=
# OCAML_BYTE_LINK_FLAGS +=
# OCAML_NATIVE_LINK_FLAGS +=

LIB = typedvec

.DEFAULT: all

install:
	CreateInstalled($(LIB), $(glob i, src/*ml) $(glob i, src/*c))
