open MyFunction
open MyOCaml

.PHONY: clean all

# mark file confined directory path.
INSTALLED = $(BIG_ROOT)/installed

USE_OCAMLFIND = true
#
OCAMLPACKS[] =
    compiler-libs.common
    ppx_tools.metaquot
#
if $(not $(OCAMLFIND_EXISTS))
    eprintln(This project requires ocamlfind, but is was not found.)
    eprintln(You need to install ocamlfind and run "omake --configure".)
    exit 1

#
# Include path
#
OCAMLINCLUDES += ..

#
# Compile native or byte code?
#
# The default values are defined as follows:
#
NATIVE_ENABLED = $(OCAMLOPT_EXISTS)
BYTE_ENABLED = true
#
# Various options
#
OCAMLFLAGS    += -bin-annot -thread
OCAMLCFLAGS   +=
OCAMLOPTFLAGS +=
OCAML_LINK_FLAGS += -linkall
OCAML_BYTE_LINK_FLAGS += -linkall
OCAML_NATIVE_LINK_FLAGS += -linkall

# OCAML_LIBS +=
# OCAML_CLIBS +=
# OCAML_OTHER_LIBS += nums
# OCAML_LIB_FLAGS +=
#
LIB = ppx_typedvec

FILES[]=$(removesuffix .ml, $(ls *.ml))

OCamlProgram($(LIB), $(FILES))

all: $(LIB)$(EXE)

.DEFAULT: all
